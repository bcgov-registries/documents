<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="580px" preserveAspectRatio="none" style="width:689px;height:580px;background:#FFFFFF;" version="1.1" viewBox="0 0 689 580" width="689px" zoomAndPan="magnify"><defs><filter height="300%" id="f16ijzzwqonsw8" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="48" x2="48" y1="67.4883" y2="511.8359"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="587" x2="587" y1="67.4883" y2="511.8359"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="661" x2="661" y1="67.4883" y2="511.8359"/><rect fill="#FEFECE" filter="url(#f16ijzzwqonsw8)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="83" x="5" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="12" y="52.5352">CRON_Job</text><rect fill="#FEFECE" filter="url(#f16ijzzwqonsw8)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="83" x="5" y="510.8359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="12" y="531.3711">CRON_Job</text><rect fill="#FEFECE" filter="url(#f16ijzzwqonsw8)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="69" x="551" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="558" y="52.5352">CFS_API</text><rect fill="#FEFECE" filter="url(#f16ijzzwqonsw8)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="69" x="551" y="510.8359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="558" y="531.3711">CFS_API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="634" y="64.5352">Pay_DB</text><path d="M643,15 C643,5 661,5 661,5 C661,5 679,5 679,15 L679,41 C679,51 661,51 661,51 C661,51 643,51 643,41 L643,15 " fill="#FEFECE" filter="url(#f16ijzzwqonsw8)" style="stroke:#000000;stroke-width:1.5;"/><path d="M643,15 C643,25 661,25 661,25 C661,25 679,25 679,15 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="634" y="524.3711">Pay_DB</text><path d="M643,537.3242 C643,527.3242 661,527.3242 661,527.3242 C661,527.3242 679,527.3242 679,537.3242 L679,563.3242 C679,573.3242 661,573.3242 661,573.3242 C661,573.3242 643,573.3242 643,563.3242 L643,537.3242 " fill="#FEFECE" filter="url(#f16ijzzwqonsw8)" style="stroke:#000000;stroke-width:1.5;"/><path d="M643,537.3242 C643,547.3242 661,547.3242 661,547.3242 C661,547.3242 679,547.3242 679,537.3242 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><polygon fill="#A80036" points="649,94.7988,659,98.7988,649,102.7988,653,98.7988" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="48.5" x2="655" y1="98.7988" y2="98.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="55.5" y="94.0566">Get PENDING records</text><polygon fill="#A80036" points="59.5,108.7988,49.5,112.7988,59.5,116.7988,55.5,112.7988" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="53.5" x2="660" y1="112.7988" y2="112.7988"/><polygon fill="#A80036" points="59.5,138.1094,49.5,142.1094,59.5,146.1094,55.5,142.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="53.5" x2="586.5" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="65.5" y="137.3672">Bearer Token</text><polygon fill="#A80036" points="575.5,167.4199,585.5,171.4199,575.5,175.4199,579.5,171.4199" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="48.5" x2="581.5" y1="171.4199" y2="171.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="55.5" y="166.6777">/token</text><polygon fill="#A80036" points="59.5,196.7305,49.5,200.7305,59.5,204.7305,55.5,200.7305" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="53.5" x2="586.5" y1="200.7305" y2="200.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="65.5" y="195.9883">Bearer Token</text><polygon fill="#A80036" points="575.5,226.041,585.5,230.041,575.5,234.041,579.5,230.041" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="48.5" x2="581.5" y1="230.041" y2="230.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="55.5" y="225.2988">/parties</text><polygon fill="#A80036" points="59.5,255.3516,49.5,259.3516,59.5,263.3516,55.5,259.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="53.5" x2="586.5" y1="259.3516" y2="259.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="65.5" y="254.6094">Party response</text><polygon fill="#A80036" points="575.5,284.6621,585.5,288.6621,575.5,292.6621,579.5,288.6621" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="48.5" x2="581.5" y1="288.6621" y2="288.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="55.5" y="283.9199">/parties/:party_number/accounts</text><polygon fill="#A80036" points="59.5,313.9727,49.5,317.9727,59.5,321.9727,55.5,317.9727" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="53.5" x2="586.5" y1="317.9727" y2="317.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="65.5" y="313.2305">Account response</text><polygon fill="#A80036" points="575.5,343.2832,585.5,347.2832,575.5,351.2832,579.5,347.2832" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="48.5" x2="581.5" y1="347.2832" y2="347.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="365" x="55.5" y="342.541">/parties/:party_number/accounts/:account_number/sites</text><polygon fill="#A80036" points="59.5,372.5938,49.5,376.5938,59.5,380.5938,55.5,376.5938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="53.5" x2="586.5" y1="376.5938" y2="376.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="65.5" y="371.8516">Site response</text><polygon fill="#A80036" points="575.5,401.9043,585.5,405.9043,575.5,409.9043,579.5,405.9043" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="48.5" x2="581.5" y1="405.9043" y2="405.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="515" x="55.5" y="401.1621">/parties/:party_number/accounts/:account_number/sites/:site_number/payment</text><polygon fill="#A80036" points="59.5,431.2148,49.5,435.2148,59.5,439.2148,55.5,435.2148" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="53.5" x2="586.5" y1="435.2148" y2="435.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="65.5" y="430.4727">Payment response</text><polygon fill="#A80036" points="649,460.5254,659,464.5254,649,468.5254,653,464.5254" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="48.5" x2="655" y1="464.5254" y2="464.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="55.5" y="459.7832">Update</text><polygon fill="#A80036" points="59.5,489.8359,49.5,493.8359,59.5,497.8359,55.5,493.8359" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="53.5" x2="660" y1="493.8359" y2="493.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="6" x="65.5" y="489.0938">''</text><!--MD5=[e6acf04bf55fd46f2a974d966f388aa1]
@startuml pad/create_cfs_account
participant CRON_Job
participant CFS_API
participant CFS_API
database    Pay_DB

CRON_Job -> Pay_DB: Get PENDING records
Pay_DB -> CRON_Job: 
CFS_API -> CRON_Job: Bearer Token
CRON_Job -> CFS_API: /token
CFS_API -> CRON_Job: Bearer Token
CRON_Job -> CFS_API: /parties
CFS_API -> CRON_Job: Party response
CRON_Job -> CFS_API: /parties/:party_number/accounts
CFS_API -> CRON_Job: Account response
CRON_Job -> CFS_API: /parties/:party_number/accounts/:account_number/sites
CFS_API -> CRON_Job: Site response
CRON_Job -> CFS_API: /parties/:party_number/accounts/:account_number/sites/:site_number/payment
CFS_API -> CRON_Job: Payment response
CRON_Job -> Pay_DB: Update
Pay_DB -> CRON_Job: ''

@enduml

PlantUML version 1.2021.14(Fri Nov 12 08:46:50 PST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: CA
--></g></svg>