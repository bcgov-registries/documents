<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="703px" preserveAspectRatio="none" style="width:1225px;height:703px;background:#FFFFFF;" version="1.1" viewBox="0 0 1225 703" width="1225px" zoomAndPan="magnify"><defs><filter height="300%" id="f14r1l258uly7a" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="200" x="505.25" y="17.4023">EJV Reconciliation Flow</text><ellipse cx="604" cy="37.1992" fill="#000000" filter="url(#f14r1l258uly7a)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f14r1l258uly7a)" height="34.1328" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="267" x="470.5" y="87.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="247" x="480.5" y="108.8008">Separate and group EJV and AP FEEDBACK</text><path d="M758,91.6992 L758,100.1992 L737.69,104.1992 L758,108.1992 L758,117.0098 A0,0 0 0 0 758,117.0098 L1188,117.0098 A0,0 0 0 0 1188,117.0098 L1188,101.6992 L1178,91.6992 L758,91.6992 A0,0 0 0 0 758,91.6992 " fill="#FBFB77" filter="url(#f14r1l258uly7a)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1178,91.6992 L1178,101.6992 L1188,101.6992 L1178,91.6992 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="409" x="764" y="109.2676">Reconciliation contains the listeners for any FEEDBACK from CGI.</text><rect fill="#000000" filter="url(#f14r1l258uly7a)" height="8" style="stroke:none;stroke-width:1.0;" width="80" x="564" y="174.1992"/><rect fill="#FEFECE" filter="url(#f14r1l258uly7a)" height="34.1328" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="226" x="318" y="161.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="206" x="328" y="182.8008">Gov Account Payment Reconciliation</text><rect fill="#FEFECE" filter="url(#f14r1l258uly7a)" height="34.1328" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="251" x="465.5" y="235.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="231" x="475.5" y="256.8008">Get the status code from FEEDBACK line</text><polygon fill="#FEFECE" filter="url(#f14r1l258uly7a)" points="449,309.1992,461,321.1992,449,333.1992,437,321.1992,449,309.1992" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f14r1l258uly7a)" height="62.3984" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="246" x="7" y="373.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="149" x="53.5" y="394.8008">Update invoice status and</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="132" y="408.9336"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="226" x="17" y="423.0664">invoice reference status to COMPLETED</text><path d="M273.5,391.6992 L273.5,400.1992 L253.06,404.1992 L273.5,408.1992 L273.5,417.0098 A0,0 0 0 0 273.5,417.0098 L344.5,417.0098 A0,0 0 0 0 344.5,417.0098 L344.5,401.6992 L334.5,391.6992 L273.5,391.6992 A0,0 0 0 0 273.5,391.6992 " fill="#FBFB77" filter="url(#f14r1l258uly7a)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M334.5,391.6992 L334.5,401.6992 L344.5,401.6992 L334.5,391.6992 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="279.5" y="409.2676">Success</text><rect fill="#FEFECE" filter="url(#f14r1l258uly7a)" height="34.1328" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="153" x="53.5" y="475.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="133" x="63.5" y="496.8008">Create Payment record</text><rect fill="#FEFECE" filter="url(#f14r1l258uly7a)" height="62.3984" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="168" x="365" y="373.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="144" x="375" y="394.8008">Update invoice reference</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="451" y="408.9336"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="121" x="388.5" y="423.0664">status to CANCELLED</text><path d="M553.5,391.6992 L553.5,400.1992 L533.2,404.1992 L553.5,408.1992 L553.5,417.0098 A0,0 0 0 0 553.5,417.0098 L616.5,417.0098 A0,0 0 0 0 616.5,417.0098 L616.5,401.6992 L606.5,391.6992 L553.5,391.6992 A0,0 0 0 0 553.5,391.6992 " fill="#FBFB77" filter="url(#f14r1l258uly7a)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M606.5,391.6992 L606.5,401.6992 L616.5,401.6992 L606.5,391.6992 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="559.5" y="409.2676">Failure</text><rect fill="#FEFECE" filter="url(#f14r1l258uly7a)" height="34.1328" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="333" x="344.5" y="475.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="313" x="354.5" y="496.8008">Update gov account distribution code stop_ejv to True</text><rect fill="#FEFECE" filter="url(#f14r1l258uly7a)" height="34.1328" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="234" x="491" y="549.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="214" x="501" y="570.8008">Publish staff email of payment failure</text><rect fill="#000000" filter="url(#f14r1l258uly7a)" height="8" style="stroke:none;stroke-width:1.0;" width="80" x="702" y="623.1992"/><rect fill="#FEFECE" filter="url(#f14r1l258uly7a)" height="34.1328" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="176" x="664" y="161.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="156" x="674" y="182.8008">Dibursement Reconciliation</text><polygon fill="#FEFECE" filter="url(#f14r1l258uly7a)" points="733,309.1992,745,321.1992,733,333.1992,721,321.1992,733,309.1992" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f14r1l258uly7a)" height="62.3984" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="192" x="637" y="373.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="168" x="647" y="394.8008">Update invoice disbursement</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="735" y="408.9336"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="124" x="671" y="423.0664">status to COMPLETED</text><path d="M849.5,391.6992 L849.5,400.1992 L829.19,404.1992 L849.5,408.1992 L849.5,417.0098 A0,0 0 0 0 849.5,417.0098 L920.5,417.0098 A0,0 0 0 0 920.5,417.0098 L920.5,401.6992 L910.5,391.6992 L849.5,391.6992 A0,0 0 0 0 849.5,391.6992 " fill="#FBFB77" filter="url(#f14r1l258uly7a)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M910.5,391.6992 L910.5,401.6992 L920.5,401.6992 L910.5,391.6992 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="855.5" y="409.2676">Success</text><rect fill="#FEFECE" filter="url(#f14r1l258uly7a)" height="62.3984" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="192" x="941" y="373.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="168" x="951" y="394.8008">Update invoice disbursement</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="1039" y="408.9336"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="109" x="982.5" y="423.0664">status to ERRORED</text><path d="M1153.5,391.6992 L1153.5,400.1992 L1133.26,404.1992 L1153.5,408.1992 L1153.5,417.0098 A0,0 0 0 0 1153.5,417.0098 L1216.5,417.0098 A0,0 0 0 0 1216.5,417.0098 L1216.5,401.6992 L1206.5,391.6992 L1153.5,391.6992 A0,0 0 0 0 1153.5,391.6992 " fill="#FBFB77" filter="url(#f14r1l258uly7a)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1206.5,391.6992 L1206.5,401.6992 L1216.5,401.6992 L1206.5,391.6992 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="1159.5" y="409.2676">Failure</text><rect fill="#FEFECE" filter="url(#f14r1l258uly7a)" height="34.1328" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="308" x="821" y="475.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="288" x="831" y="496.8008">Update partner distribution code stop_ejv to True</text><rect fill="#FEFECE" filter="url(#f14r1l258uly7a)" height="34.1328" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="263" x="794.5" y="549.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="243" x="804.5" y="570.8008">Publish staff email of disbursement failure</text><ellipse cx="742" cy="681.1992" filter="url(#f14r1l258uly7a)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;fill:none;"/><ellipse cx="742.5" cy="681.6992" fill="#000000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><!--MD5=[d6eef21accfb9faf230da486f9bf4796]
link start to Separate and group EJV and AP FEEDBACK--><path d="M604,47.2392 C604,56.1292 604,70.0392 604,81.7692 " fill="none" id="start-to-Separate and group EJV and AP FEEDBACK" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="604,86.9792,608,77.9792,604,81.9792,600,77.9792,604,86.9792" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ed0fcef8cad7152c658e68d65550620a]
link Separate and group EJV and AP FEEDBACK to EJV_RECONCILIATION_START--><path d="M597.6,121.5392 C595.75,136.3692 596.23,157.6292 599.05,169.1092 " fill="none" id="Separate and group EJV and AP FEEDBACK-to-EJV_RECONCILIATION_START" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="600.62,173.8792,601.6218,164.0814,599.0646,169.1273,594.0187,166.5701,600.62,173.8792" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ed0fcef8cad7152c658e68d65550620a]
link Separate and group EJV and AP FEEDBACK to EJV_RECONCILIATION_START--><path d="M610.4,121.5392 C612.25,136.3692 611.77,157.6292 608.95,169.1092 " fill="none" id="Separate and group EJV and AP FEEDBACK-to-EJV_RECONCILIATION_START-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="607.38,173.8792,613.9813,166.5701,608.9354,169.1273,606.3782,164.0814,607.38,173.8792" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[49831e0a3aff5eae1d6d1382f724e64a]
reverse link Gov Account Payment Reconciliation to EJV_RECONCILIATION_START--><path d="M549.41,178.1992 C554.21,178.1992 559.01,178.1992 563.82,178.1992 " fill="none" id="Gov Account Payment Reconciliation-backto-EJV_RECONCILIATION_START" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="544.19,178.1992,553.19,182.1992,549.19,178.1992,553.19,174.1992,544.19,178.1992" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c4e2201df7dcaf96a70480e83ff36c35]
link Gov Account Payment Reconciliation to Get the status code from FEEDBACK line--><path d="M466.91,195.3592 C491.71,206.5192 524.75,221.3892 550.49,232.9692 " fill="none" id="Gov Account Payment Reconciliation-to-Get the status code from FEEDBACK line" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="555.21,235.0992,548.6528,227.7506,550.6528,233.0421,545.3613,235.0421,555.21,235.0992" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[abbed52272ff1d33b02edc6e3d663fdc]
link Get the status code from FEEDBACK line to #15--><path d="M556.99,269.2492 C526.15,283.7992 482.39,304.4492 461.3,314.3992 " fill="none" id="Get the status code from FEEDBACK line-to-#15" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="456.69,316.5692,466.5364,316.3488,461.2125,314.4368,463.1245,309.1129,456.69,316.5692" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="177" x="469.0143" y="313.9032">Payment success (i.e, code 0000)</text><!--MD5=[79375766d56b0ac52ceaeacbb900b371]
link #15 to Update invoice status and \n\ninvoice reference status to COMPLETED--><path d="M440.14,324.4492 C412.86,331.3792 327.55,353.0392 253.29,371.8892 " fill="none" id="#15-to-Update invoice status and \n\ninvoice reference status to COMPLETED" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="248.41,373.1292,258.1173,374.7933,253.2565,371.8997,256.1501,367.039,248.41,373.1292" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[edb7f3d3b0208903ff742eef9684096e]
link Update invoice status and \n\ninvoice reference status to COMPLETED to Create Payment record--><path d="M130,435.2792 C130,446.6592 130,459.3792 130,469.8092 " fill="none" id="Update invoice status and \n\ninvoice reference status to COMPLETED-to-Create Payment record" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="130,475.0292,134,466.0292,130,470.0292,126,466.0292,130,475.0292" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7947826eb742a376f0ffc39c5690d8a4]
link #15 to Update invoice reference \n\nstatus to CANCELLED--><path d="M449,333.4592 C449,342.4392 449,355.5192 449,367.9292 " fill="none" id="#15-to-Update invoice reference \n\nstatus to CANCELLED" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="449,373.1992,453,364.1992,449,368.1992,445,364.1992,449,373.1992" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[3efcd1a80363dc2088db23cba0ef0a72]
link Update invoice reference \n\nstatus to CANCELLED to Update gov account distribution code stop_ejv to True--><path d="M470.68,435.2792 C479.19,447.0792 488.73,460.3092 496.4,470.9392 " fill="none" id="Update invoice reference \n\nstatus to CANCELLED-to-Update gov account distribution code stop_ejv to True" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="499.34,475.0292,497.3158,465.3906,496.4136,470.9751,490.8291,470.0729,499.34,475.0292" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[137376e3f0dd5b982ede68ab7f73c981]
link Update gov account distribution code stop_ejv to True to Publish staff email of payment failure--><path d="M533.01,509.5392 C547.62,520.3792 566.86,534.6692 582.2,546.0492 " fill="none" id="Update gov account distribution code stop_ejv to True-to-Publish staff email of payment failure" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="586.41,549.1692,581.5757,540.5885,582.398,546.1852,576.8013,547.0076,586.41,549.1692" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4f60dd7d433cc030ca70bfa2b38c4423]
link Publish staff email of payment failure to EJV_RECONCILIATION_END--><path d="M644.62,583.3192 C673.23,595.9192 711.23,612.6492 730.19,620.9992 " fill="none" id="Publish staff email of payment failure-to-EJV_RECONCILIATION_END" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="735.01,623.1192,728.3786,615.8375,730.4322,621.1084,725.1612,623.162,735.01,623.1192" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7cd2026944dfe27aa4d0b3318197f18d]
link EJV_RECONCILIATION_START to Dibursement Reconciliation--><path d="M644.18,178.1992 C649.03,178.1992 653.87,178.1992 658.72,178.1992 " fill="none" id="EJV_RECONCILIATION_START-to-Dibursement Reconciliation" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="663.97,178.1992,654.97,174.1992,658.97,178.1992,654.97,182.1992,663.97,178.1992" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4fad4982139d450cb18ef0d677afae72]
link Dibursement Reconciliation to Get the status code from FEEDBACK line--><path d="M715.87,195.3592 C690.91,206.5192 657.67,221.3892 631.76,232.9692 " fill="none" id="Dibursement Reconciliation-to-Get the status code from FEEDBACK line" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="627.01,235.0992,636.8588,235.0678,631.5725,233.0539,633.5864,227.7677,627.01,235.0992" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[afde0e0991bcb4fbb5352f2fb0168a58]
link Get the status code from FEEDBACK line to #40--><path d="M625.01,269.2492 C655.85,283.7992 699.61,304.4492 720.7,314.3992 " fill="none" id="Get the status code from FEEDBACK line-to-#40" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="725.31,316.5692,718.8755,309.1129,720.7875,314.4368,715.4636,316.3488,725.31,316.5692" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="207" x="506.1486" y="327.4061">Disbursement success (i.e, code 0000)</text><!--MD5=[eaedae23389c98ed499a2790b3bbb658]
link #40 to Update invoice disbursement \n\nstatus to COMPLETED--><path d="M733,333.4592 C733,342.4392 733,355.5192 733,367.9292 " fill="none" id="#40-to-Update invoice disbursement \n\nstatus to COMPLETED" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="733,373.1992,737,364.1992,733,368.1992,729,364.1992,733,373.1992" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0d074a2907df7faadfe023c0e5616d1c]
link #40 to Update invoice disbursement \n\nstatus to ERRORED--><path d="M742.1,324.4592 C770.24,331.4792 858.35,353.5692 931,373.1992 C932.62,373.6392 934.24,374.0792 935.88,374.5192 " fill="none" id="#40-to-Update invoice disbursement \n\nstatus to ERRORED" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="940.83,375.8792,933.1965,369.6559,936.0055,374.566,931.0954,377.3751,940.83,375.8792" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[00ed38e4f08bdfa3120bfa543b42f9c7]
link Update invoice disbursement \n\nstatus to ERRORED to Update partner distribution code stop_ejv to True--><path d="M1015.32,435.2792 C1006.81,447.0792 997.27,460.3092 989.6,470.9392 " fill="none" id="Update invoice disbursement \n\nstatus to ERRORED-to-Update partner distribution code stop_ejv to True" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="986.66,475.0292,995.1709,470.0729,989.5864,470.9751,988.6842,465.3906,986.66,475.0292" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6e80859b286b9dfb3dc8c4ff6516790c]
link Update partner distribution code stop_ejv to True to Publish staff email of disbursement failure--><path d="M963.88,509.5392 C956.8,519.9392 947.57,533.4992 940,544.6292 " fill="none" id="Update partner distribution code stop_ejv to True-to-Publish staff email of disbursement failure" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="937.07,548.9292,945.4444,543.7456,939.8862,544.7978,938.8341,539.2396,937.07,548.9292" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8117972b82edcb3e7ccc03369fd2736d]
link Publish staff email of disbursement failure to EJV_RECONCILIATION_END--><path d="M875.72,583.3192 C835.59,596.1892 782.02,613.3692 756.59,621.5192 " fill="none" id="Publish staff email of disbursement failure-to-EJV_RECONCILIATION_END" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="751.6,623.1192,761.3922,624.1742,756.3603,621.5896,758.9449,616.5577,751.6,623.1192" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0f332db4c031229137a84fa34a1f75b3]
link EJV_RECONCILIATION_END to end--><path d="M742,631.2992 C742,637.9692 742,654.0692 742,665.9792 " fill="none" id="EJV_RECONCILIATION_END-to-end" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="742,671.1092,746,662.1092,742,666.1092,738,662.1092,742,671.1092" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[bb15a6308778bbeb5965ff7c3a6adece]
@startuml
    title EJV Reconciliation Flow

    (*) - -> "Separate and group EJV and AP FEEDBACK"
    note right
        Reconciliation contains the listeners for any FEEDBACK from CGI.
    end note
    - -> ===EJV_RECONCILIATION_START=== 

    -left-> "Gov Account Payment Reconciliation"
        -down-> "Get the status code from FEEDBACK line"
        if "Payment success (i.e, code 0000)" then
            - ->"Update invoice status and \n
            invoice reference status to COMPLETED"
            note right
                Success
            end note
            - ->"Create Payment record"
        else
            - ->"Update invoice reference \n
            status to CANCELLED"
            note right
                Failure
            end note
            - ->"Update gov account distribution code stop_ejv to True"
            - ->"Publish staff email of payment failure"
        endif


    -down-> ===EJV_RECONCILIATION_END===

    "Separate and group EJV and AP FEEDBACK" - -> ===EJV_RECONCILIATION_START=== 
        -right-> "Dibursement Reconciliation"
        -down-> "Get the status code from FEEDBACK line"
        if "Disbursement success (i.e, code 0000)" then
            - ->"Update invoice disbursement \n
            status to COMPLETED"
            note right
                Success
            end note
        else
            - ->"Update invoice disbursement \n
            status to ERRORED"
            note right
                Failure
            end note
            - ->"Update partner distribution code stop_ejv to True"
            - ->"Publish staff email of disbursement failure"
        endif

    -down-> ===EJV_RECONCILIATION_END===
    - -> (*)

    @enduml

PlantUML version 1.2021.14(Fri Nov 12 08:46:50 PST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: CA
--></g></svg>